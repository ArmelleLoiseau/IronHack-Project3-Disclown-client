{
  "version": 3,
  "sources": ["../parseuri/index.js", "../has-cors/index.js", "../@socket.io/component-emitter/index.js", "../yeast/index.js", "../parseqs/index.js", "../backo2/index.js", "../socket.io-client/build/esm/url.js", "../engine.io-client/build/esm/transports/xmlhttprequest.browser.js", "../engine.io-client/build/esm/globalThis.browser.js", "../engine.io-client/build/esm/util.js", "../engine.io-client/build/esm/transports/polling-xhr.js", "../engine.io-parser/build/esm/commons.js", "../engine.io-parser/build/esm/encodePacket.browser.js", "../@socket.io/base64-arraybuffer/src/index.ts", "../engine.io-parser/build/esm/decodePacket.browser.js", "../engine.io-parser/build/esm/index.js", "../engine.io-client/build/esm/transport.js", "../engine.io-client/build/esm/transports/polling.js", "../engine.io-client/build/esm/transports/websocket.js", "../engine.io-client/build/esm/transports/websocket-constructor.browser.js", "../engine.io-client/build/esm/transports/index.js", "../engine.io-client/build/esm/socket.js", "../engine.io-client/build/esm/index.js", "../socket.io-parser/build/esm/index.js", "../socket.io-parser/build/esm/is-binary.js", "../socket.io-parser/build/esm/binary.js", "../socket.io-client/build/esm/on.js", "../socket.io-client/build/esm/socket.js", "../socket.io-client/build/esm/manager.js", "../socket.io-client/build/esm/index.js", "dep:socket_io-client"],
  "sourcesContent": ["/**\r\n * Parses an URI\r\n *\r\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n * @api private\r\n */\r\n\r\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\r\nvar parts = [\r\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n];\r\n\r\nmodule.exports = function parseuri(str) {\r\n    var src = str,\r\n        b = str.indexOf('['),\r\n        e = str.indexOf(']');\r\n\r\n    if (b != -1 && e != -1) {\r\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n    }\r\n\r\n    var m = re.exec(str || ''),\r\n        uri = {},\r\n        i = 14;\r\n\r\n    while (i--) {\r\n        uri[parts[i]] = m[i] || '';\r\n    }\r\n\r\n    if (b != -1 && e != -1) {\r\n        uri.source = src;\r\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n        uri.ipv6uri = true;\r\n    }\r\n\r\n    uri.pathNames = pathNames(uri, uri['path']);\r\n    uri.queryKey = queryKey(uri, uri['query']);\r\n\r\n    return uri;\r\n};\r\n\r\nfunction pathNames(obj, path) {\r\n    var regx = /\\/{2,9}/g,\r\n        names = path.replace(regx, \"/\").split(\"/\");\r\n\r\n    if (path.substr(0, 1) == '/' || path.length === 0) {\r\n        names.splice(0, 1);\r\n    }\r\n    if (path.substr(path.length - 1, 1) == '/') {\r\n        names.splice(names.length - 1, 1);\r\n    }\r\n\r\n    return names;\r\n}\r\n\r\nfunction queryKey(uri, query) {\r\n    var data = {};\r\n\r\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\r\n        if ($1) {\r\n            data[$1] = $2;\r\n        }\r\n    });\r\n\r\n    return data;\r\n}\r\n", "\r\n/**\r\n * Module exports.\r\n *\r\n * Logic borrowed from Modernizr:\r\n *\r\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\r\n */\r\n\r\ntry {\r\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\r\n    'withCredentials' in new XMLHttpRequest();\r\n} catch (err) {\r\n  // if XMLHttp support is disabled in IE then it will throw\r\n  // when trying to create\r\n  module.exports = false;\r\n}\r\n", "\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nexports.Emitter = Emitter;\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n}\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n// alias used for reserved events (protected method)\r\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n", "'use strict';\r\n\r\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\r\n  , length = 64\r\n  , map = {}\r\n  , seed = 0\r\n  , i = 0\r\n  , prev;\r\n\r\n/**\r\n * Return a string representing the specified number.\r\n *\r\n * @param {Number} num The number to convert.\r\n * @returns {String} The string representation of the number.\r\n * @api public\r\n */\r\nfunction encode(num) {\r\n  var encoded = '';\r\n\r\n  do {\r\n    encoded = alphabet[num % length] + encoded;\r\n    num = Math.floor(num / length);\r\n  } while (num > 0);\r\n\r\n  return encoded;\r\n}\r\n\r\n/**\r\n * Return the integer value specified by the given string.\r\n *\r\n * @param {String} str The string to convert.\r\n * @returns {Number} The integer value represented by the string.\r\n * @api public\r\n */\r\nfunction decode(str) {\r\n  var decoded = 0;\r\n\r\n  for (i = 0; i < str.length; i++) {\r\n    decoded = decoded * length + map[str.charAt(i)];\r\n  }\r\n\r\n  return decoded;\r\n}\r\n\r\n/**\r\n * Yeast: A tiny growing id generator.\r\n *\r\n * @returns {String} A unique id.\r\n * @api public\r\n */\r\nfunction yeast() {\r\n  var now = encode(+new Date());\r\n\r\n  if (now !== prev) return seed = 0, prev = now;\r\n  return now +'.'+ encode(seed++);\r\n}\r\n\r\n//\r\n// Map each character to its index.\r\n//\r\nfor (; i < length; i++) map[alphabet[i]] = i;\r\n\r\n//\r\n// Expose the `yeast`, `encode` and `decode` functions.\r\n//\r\nyeast.encode = encode;\r\nyeast.decode = decode;\r\nmodule.exports = yeast;\r\n", "/**\r\n * Compiles a querystring\r\n * Returns string representation of the object\r\n *\r\n * @param {Object}\r\n * @api private\r\n */\r\n\r\nexports.encode = function (obj) {\r\n  var str = '';\r\n\r\n  for (var i in obj) {\r\n    if (obj.hasOwnProperty(i)) {\r\n      if (str.length) str += '&';\r\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n    }\r\n  }\r\n\r\n  return str;\r\n};\r\n\r\n/**\r\n * Parses a simple querystring into an object\r\n *\r\n * @param {String} qs\r\n * @api private\r\n */\r\n\r\nexports.decode = function(qs){\r\n  var qry = {};\r\n  var pairs = qs.split('&');\r\n  for (var i = 0, l = pairs.length; i < l; i++) {\r\n    var pair = pairs[i].split('=');\r\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n  }\r\n  return qry;\r\n};\r\n", "\r\n/**\r\n * Expose `Backoff`.\r\n */\r\n\r\nmodule.exports = Backoff;\r\n\r\n/**\r\n * Initialize backoff timer with `opts`.\r\n *\r\n * - `min` initial timeout in milliseconds [100]\r\n * - `max` max timeout [10000]\r\n * - `jitter` [0]\r\n * - `factor` [2]\r\n *\r\n * @param {Object} opts\r\n * @api public\r\n */\r\n\r\nfunction Backoff(opts) {\r\n  opts = opts || {};\r\n  this.ms = opts.min || 100;\r\n  this.max = opts.max || 10000;\r\n  this.factor = opts.factor || 2;\r\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\r\n  this.attempts = 0;\r\n}\r\n\r\n/**\r\n * Return the backoff duration.\r\n *\r\n * @return {Number}\r\n * @api public\r\n */\r\n\r\nBackoff.prototype.duration = function(){\r\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\r\n  if (this.jitter) {\r\n    var rand =  Math.random();\r\n    var deviation = Math.floor(rand * this.jitter * ms);\r\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\r\n  }\r\n  return Math.min(ms, this.max) | 0;\r\n};\r\n\r\n/**\r\n * Reset the number of attempts.\r\n *\r\n * @api public\r\n */\r\n\r\nBackoff.prototype.reset = function(){\r\n  this.attempts = 0;\r\n};\r\n\r\n/**\r\n * Set the minimum duration\r\n *\r\n * @api public\r\n */\r\n\r\nBackoff.prototype.setMin = function(min){\r\n  this.ms = min;\r\n};\r\n\r\n/**\r\n * Set the maximum duration\r\n *\r\n * @api public\r\n */\r\n\r\nBackoff.prototype.setMax = function(max){\r\n  this.max = max;\r\n};\r\n\r\n/**\r\n * Set the jitter\r\n *\r\n * @api public\r\n */\r\n\r\nBackoff.prototype.setJitter = function(jitter){\r\n  this.jitter = jitter;\r\n};\r\n\r\n", "import parseuri from \"parseuri\";\r\n/**\r\n * URL parser.\r\n *\r\n * @param uri - url\r\n * @param path - the request path of the connection\r\n * @param loc - An object meant to mimic window.location.\r\n *        Defaults to window.location.\r\n * @public\r\n */\r\nexport function url(uri, path = \"\", loc) {\r\n    let obj = uri;\r\n    // default to window.location\r\n    loc = loc || (typeof location !== \"undefined\" && location);\r\n    if (null == uri)\r\n        uri = loc.protocol + \"//\" + loc.host;\r\n    // relative path support\r\n    if (typeof uri === \"string\") {\r\n        if (\"/\" === uri.charAt(0)) {\r\n            if (\"/\" === uri.charAt(1)) {\r\n                uri = loc.protocol + uri;\r\n            }\r\n            else {\r\n                uri = loc.host + uri;\r\n            }\r\n        }\r\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\r\n            if (\"undefined\" !== typeof loc) {\r\n                uri = loc.protocol + \"//\" + uri;\r\n            }\r\n            else {\r\n                uri = \"https://\" + uri;\r\n            }\r\n        }\r\n        // parse\r\n        obj = parseuri(uri);\r\n    }\r\n    // make sure we treat `localhost:80` and `localhost` equally\r\n    if (!obj.port) {\r\n        if (/^(http|ws)$/.test(obj.protocol)) {\r\n            obj.port = \"80\";\r\n        }\r\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\r\n            obj.port = \"443\";\r\n        }\r\n    }\r\n    obj.path = obj.path || \"/\";\r\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\r\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\r\n    // define unique id\r\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\r\n    // define href\r\n    obj.href =\r\n        obj.protocol +\r\n            \"://\" +\r\n            host +\r\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\r\n    return obj;\r\n}\r\n", "// browser shim for xmlhttprequest module\r\nimport hasCORS from \"has-cors\";\r\nimport globalThis from \"../globalThis.js\";\r\nexport default function (opts) {\r\n    const xdomain = opts.xdomain;\r\n    // XMLHttpRequest can be disabled on IE\r\n    try {\r\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\r\n            return new XMLHttpRequest();\r\n        }\r\n    }\r\n    catch (e) { }\r\n    if (!xdomain) {\r\n        try {\r\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\r\n        }\r\n        catch (e) { }\r\n    }\r\n}\r\n", "export default (() => {\r\n    if (typeof self !== \"undefined\") {\r\n        return self;\r\n    }\r\n    else if (typeof window !== \"undefined\") {\r\n        return window;\r\n    }\r\n    else {\r\n        return Function(\"return this\")();\r\n    }\r\n})();\r\n", "import globalThis from \"./globalThis.js\";\r\nexport function pick(obj, ...attr) {\r\n    return attr.reduce((acc, k) => {\r\n        if (obj.hasOwnProperty(k)) {\r\n            acc[k] = obj[k];\r\n        }\r\n        return acc;\r\n    }, {});\r\n}\r\n// Keep a reference to the real timeout functions so they can be used when overridden\r\nconst NATIVE_SET_TIMEOUT = setTimeout;\r\nconst NATIVE_CLEAR_TIMEOUT = clearTimeout;\r\nexport function installTimerFunctions(obj, opts) {\r\n    if (opts.useNativeTimers) {\r\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\r\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\r\n    }\r\n    else {\r\n        obj.setTimeoutFn = setTimeout.bind(globalThis);\r\n        obj.clearTimeoutFn = clearTimeout.bind(globalThis);\r\n    }\r\n}\r\n", "/* global attachEvent */\r\nimport XMLHttpRequest from \"./xmlhttprequest.js\";\r\nimport globalThis from \"../globalThis.js\";\r\nimport { installTimerFunctions, pick } from \"../util.js\";\r\nimport { Emitter } from \"@socket.io/component-emitter\";\r\nimport { Polling } from \"./polling.js\";\r\n/**\r\n * Empty function\r\n */\r\nfunction empty() { }\r\nconst hasXHR2 = (function () {\r\n    const xhr = new XMLHttpRequest({\r\n        xdomain: false\r\n    });\r\n    return null != xhr.responseType;\r\n})();\r\nexport class XHR extends Polling {\r\n    /**\r\n     * XHR Polling constructor.\r\n     *\r\n     * @param {Object} opts\r\n     * @api public\r\n     */\r\n    constructor(opts) {\r\n        super(opts);\r\n        if (typeof location !== \"undefined\") {\r\n            const isSSL = \"https:\" === location.protocol;\r\n            let port = location.port;\r\n            // some user agents have empty `location.port`\r\n            if (!port) {\r\n                port = isSSL ? \"443\" : \"80\";\r\n            }\r\n            this.xd =\r\n                (typeof location !== \"undefined\" &&\r\n                    opts.hostname !== location.hostname) ||\r\n                    port !== opts.port;\r\n            this.xs = opts.secure !== isSSL;\r\n        }\r\n        /**\r\n         * XHR supports binary\r\n         */\r\n        const forceBase64 = opts && opts.forceBase64;\r\n        this.supportsBinary = hasXHR2 && !forceBase64;\r\n    }\r\n    /**\r\n     * Creates a request.\r\n     *\r\n     * @param {String} method\r\n     * @api private\r\n     */\r\n    request(opts = {}) {\r\n        Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\r\n        return new Request(this.uri(), opts);\r\n    }\r\n    /**\r\n     * Sends data.\r\n     *\r\n     * @param {String} data to send.\r\n     * @param {Function} called upon flush.\r\n     * @api private\r\n     */\r\n    doWrite(data, fn) {\r\n        const req = this.request({\r\n            method: \"POST\",\r\n            data: data\r\n        });\r\n        req.on(\"success\", fn);\r\n        req.on(\"error\", err => {\r\n            this.onError(\"xhr post error\", err);\r\n        });\r\n    }\r\n    /**\r\n     * Starts a poll cycle.\r\n     *\r\n     * @api private\r\n     */\r\n    doPoll() {\r\n        const req = this.request();\r\n        req.on(\"data\", this.onData.bind(this));\r\n        req.on(\"error\", err => {\r\n            this.onError(\"xhr poll error\", err);\r\n        });\r\n        this.pollXhr = req;\r\n    }\r\n}\r\nexport class Request extends Emitter {\r\n    /**\r\n     * Request constructor\r\n     *\r\n     * @param {Object} options\r\n     * @api public\r\n     */\r\n    constructor(uri, opts) {\r\n        super();\r\n        installTimerFunctions(this, opts);\r\n        this.opts = opts;\r\n        this.method = opts.method || \"GET\";\r\n        this.uri = uri;\r\n        this.async = false !== opts.async;\r\n        this.data = undefined !== opts.data ? opts.data : null;\r\n        this.create();\r\n    }\r\n    /**\r\n     * Creates the XHR object and sends the request.\r\n     *\r\n     * @api private\r\n     */\r\n    create() {\r\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\r\n        opts.xdomain = !!this.opts.xd;\r\n        opts.xscheme = !!this.opts.xs;\r\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\r\n        try {\r\n            xhr.open(this.method, this.uri, this.async);\r\n            try {\r\n                if (this.opts.extraHeaders) {\r\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\r\n                    for (let i in this.opts.extraHeaders) {\r\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\r\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (e) { }\r\n            if (\"POST\" === this.method) {\r\n                try {\r\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\r\n                }\r\n                catch (e) { }\r\n            }\r\n            try {\r\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\r\n            }\r\n            catch (e) { }\r\n            // ie6 check\r\n            if (\"withCredentials\" in xhr) {\r\n                xhr.withCredentials = this.opts.withCredentials;\r\n            }\r\n            if (this.opts.requestTimeout) {\r\n                xhr.timeout = this.opts.requestTimeout;\r\n            }\r\n            xhr.onreadystatechange = () => {\r\n                if (4 !== xhr.readyState)\r\n                    return;\r\n                if (200 === xhr.status || 1223 === xhr.status) {\r\n                    this.onLoad();\r\n                }\r\n                else {\r\n                    // make sure the `error` event handler that's user-set\r\n                    // does not throw in the same tick and gets caught here\r\n                    this.setTimeoutFn(() => {\r\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\r\n                    }, 0);\r\n                }\r\n            };\r\n            xhr.send(this.data);\r\n        }\r\n        catch (e) {\r\n            // Need to defer since .create() is called directly from the constructor\r\n            // and thus the 'error' event can only be only bound *after* this exception\r\n            // occurs.  Therefore, also, we cannot throw here at all.\r\n            this.setTimeoutFn(() => {\r\n                this.onError(e);\r\n            }, 0);\r\n            return;\r\n        }\r\n        if (typeof document !== \"undefined\") {\r\n            this.index = Request.requestsCount++;\r\n            Request.requests[this.index] = this;\r\n        }\r\n    }\r\n    /**\r\n     * Called upon successful response.\r\n     *\r\n     * @api private\r\n     */\r\n    onSuccess() {\r\n        this.emit(\"success\");\r\n        this.cleanup();\r\n    }\r\n    /**\r\n     * Called if we have data.\r\n     *\r\n     * @api private\r\n     */\r\n    onData(data) {\r\n        this.emit(\"data\", data);\r\n        this.onSuccess();\r\n    }\r\n    /**\r\n     * Called upon error.\r\n     *\r\n     * @api private\r\n     */\r\n    onError(err) {\r\n        this.emit(\"error\", err);\r\n        this.cleanup(true);\r\n    }\r\n    /**\r\n     * Cleans up house.\r\n     *\r\n     * @api private\r\n     */\r\n    cleanup(fromError) {\r\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\r\n            return;\r\n        }\r\n        this.xhr.onreadystatechange = empty;\r\n        if (fromError) {\r\n            try {\r\n                this.xhr.abort();\r\n            }\r\n            catch (e) { }\r\n        }\r\n        if (typeof document !== \"undefined\") {\r\n            delete Request.requests[this.index];\r\n        }\r\n        this.xhr = null;\r\n    }\r\n    /**\r\n     * Called upon load.\r\n     *\r\n     * @api private\r\n     */\r\n    onLoad() {\r\n        const data = this.xhr.responseText;\r\n        if (data !== null) {\r\n            this.onData(data);\r\n        }\r\n    }\r\n    /**\r\n     * Aborts the request.\r\n     *\r\n     * @api public\r\n     */\r\n    abort() {\r\n        this.cleanup();\r\n    }\r\n}\r\nRequest.requestsCount = 0;\r\nRequest.requests = {};\r\n/**\r\n * Aborts pending requests when unloading the window. This is needed to prevent\r\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\r\n * emitted.\r\n */\r\nif (typeof document !== \"undefined\") {\r\n    // @ts-ignore\r\n    if (typeof attachEvent === \"function\") {\r\n        // @ts-ignore\r\n        attachEvent(\"onunload\", unloadHandler);\r\n    }\r\n    else if (typeof addEventListener === \"function\") {\r\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\r\n        addEventListener(terminationEvent, unloadHandler, false);\r\n    }\r\n}\r\nfunction unloadHandler() {\r\n    for (let i in Request.requests) {\r\n        if (Request.requests.hasOwnProperty(i)) {\r\n            Request.requests[i].abort();\r\n        }\r\n    }\r\n}\r\n", "const PACKET_TYPES = Object.create(null); // no Map = no polyfill\r\nPACKET_TYPES[\"open\"] = \"0\";\r\nPACKET_TYPES[\"close\"] = \"1\";\r\nPACKET_TYPES[\"ping\"] = \"2\";\r\nPACKET_TYPES[\"pong\"] = \"3\";\r\nPACKET_TYPES[\"message\"] = \"4\";\r\nPACKET_TYPES[\"upgrade\"] = \"5\";\r\nPACKET_TYPES[\"noop\"] = \"6\";\r\nconst PACKET_TYPES_REVERSE = Object.create(null);\r\nObject.keys(PACKET_TYPES).forEach(key => {\r\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\r\n});\r\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\r\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\r\n", "import { PACKET_TYPES } from \"./commons.js\";\r\nconst withNativeBlob = typeof Blob === \"function\" ||\r\n    (typeof Blob !== \"undefined\" &&\r\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\r\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\r\n// ArrayBuffer.isView method is not defined in IE10\r\nconst isView = obj => {\r\n    return typeof ArrayBuffer.isView === \"function\"\r\n        ? ArrayBuffer.isView(obj)\r\n        : obj && obj.buffer instanceof ArrayBuffer;\r\n};\r\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\r\n    if (withNativeBlob && data instanceof Blob) {\r\n        if (supportsBinary) {\r\n            return callback(data);\r\n        }\r\n        else {\r\n            return encodeBlobAsBase64(data, callback);\r\n        }\r\n    }\r\n    else if (withNativeArrayBuffer &&\r\n        (data instanceof ArrayBuffer || isView(data))) {\r\n        if (supportsBinary) {\r\n            return callback(data);\r\n        }\r\n        else {\r\n            return encodeBlobAsBase64(new Blob([data]), callback);\r\n        }\r\n    }\r\n    // plain string\r\n    return callback(PACKET_TYPES[type] + (data || \"\"));\r\n};\r\nconst encodeBlobAsBase64 = (data, callback) => {\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = function () {\r\n        const content = fileReader.result.split(\",\")[1];\r\n        callback(\"b\" + content);\r\n    };\r\n    return fileReader.readAsDataURL(data);\r\n};\r\nexport default encodePacket;\r\n", null, "import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\r\nimport { decode } from \"@socket.io/base64-arraybuffer\";\r\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\r\nconst decodePacket = (encodedPacket, binaryType) => {\r\n    if (typeof encodedPacket !== \"string\") {\r\n        return {\r\n            type: \"message\",\r\n            data: mapBinary(encodedPacket, binaryType)\r\n        };\r\n    }\r\n    const type = encodedPacket.charAt(0);\r\n    if (type === \"b\") {\r\n        return {\r\n            type: \"message\",\r\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\r\n        };\r\n    }\r\n    const packetType = PACKET_TYPES_REVERSE[type];\r\n    if (!packetType) {\r\n        return ERROR_PACKET;\r\n    }\r\n    return encodedPacket.length > 1\r\n        ? {\r\n            type: PACKET_TYPES_REVERSE[type],\r\n            data: encodedPacket.substring(1)\r\n        }\r\n        : {\r\n            type: PACKET_TYPES_REVERSE[type]\r\n        };\r\n};\r\nconst decodeBase64Packet = (data, binaryType) => {\r\n    if (withNativeArrayBuffer) {\r\n        const decoded = decode(data);\r\n        return mapBinary(decoded, binaryType);\r\n    }\r\n    else {\r\n        return { base64: true, data }; // fallback for old browsers\r\n    }\r\n};\r\nconst mapBinary = (data, binaryType) => {\r\n    switch (binaryType) {\r\n        case \"blob\":\r\n            return data instanceof ArrayBuffer ? new Blob([data]) : data;\r\n        case \"arraybuffer\":\r\n        default:\r\n            return data; // assuming the data is already an ArrayBuffer\r\n    }\r\n};\r\nexport default decodePacket;\r\n", "import encodePacket from \"./encodePacket.js\";\r\nimport decodePacket from \"./decodePacket.js\";\r\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\r\nconst encodePayload = (packets, callback) => {\r\n    // some packets may be added to the array while encoding, so the initial length must be saved\r\n    const length = packets.length;\r\n    const encodedPackets = new Array(length);\r\n    let count = 0;\r\n    packets.forEach((packet, i) => {\r\n        // force base64 encoding for binary packets\r\n        encodePacket(packet, false, encodedPacket => {\r\n            encodedPackets[i] = encodedPacket;\r\n            if (++count === length) {\r\n                callback(encodedPackets.join(SEPARATOR));\r\n            }\r\n        });\r\n    });\r\n};\r\nconst decodePayload = (encodedPayload, binaryType) => {\r\n    const encodedPackets = encodedPayload.split(SEPARATOR);\r\n    const packets = [];\r\n    for (let i = 0; i < encodedPackets.length; i++) {\r\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\r\n        packets.push(decodedPacket);\r\n        if (decodedPacket.type === \"error\") {\r\n            break;\r\n        }\r\n    }\r\n    return packets;\r\n};\r\nexport const protocol = 4;\r\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\r\n", "import { decodePacket } from \"engine.io-parser\";\r\nimport { Emitter } from \"@socket.io/component-emitter\";\r\nimport { installTimerFunctions } from \"./util.js\";\r\nexport class Transport extends Emitter {\r\n    /**\r\n     * Transport abstract constructor.\r\n     *\r\n     * @param {Object} options.\r\n     * @api private\r\n     */\r\n    constructor(opts) {\r\n        super();\r\n        this.writable = false;\r\n        installTimerFunctions(this, opts);\r\n        this.opts = opts;\r\n        this.query = opts.query;\r\n        this.readyState = \"\";\r\n        this.socket = opts.socket;\r\n    }\r\n    /**\r\n     * Emits an error.\r\n     *\r\n     * @param {String} str\r\n     * @return {Transport} for chaining\r\n     * @api protected\r\n     */\r\n    onError(msg, desc) {\r\n        const err = new Error(msg);\r\n        // @ts-ignore\r\n        err.type = \"TransportError\";\r\n        // @ts-ignore\r\n        err.description = desc;\r\n        super.emit(\"error\", err);\r\n        return this;\r\n    }\r\n    /**\r\n     * Opens the transport.\r\n     *\r\n     * @api public\r\n     */\r\n    open() {\r\n        if (\"closed\" === this.readyState || \"\" === this.readyState) {\r\n            this.readyState = \"opening\";\r\n            this.doOpen();\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Closes the transport.\r\n     *\r\n     * @api public\r\n     */\r\n    close() {\r\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\r\n            this.doClose();\r\n            this.onClose();\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Sends multiple packets.\r\n     *\r\n     * @param {Array} packets\r\n     * @api public\r\n     */\r\n    send(packets) {\r\n        if (\"open\" === this.readyState) {\r\n            this.write(packets);\r\n        }\r\n        else {\r\n            // this might happen if the transport was silently closed in the beforeunload event handler\r\n        }\r\n    }\r\n    /**\r\n     * Called upon open\r\n     *\r\n     * @api protected\r\n     */\r\n    onOpen() {\r\n        this.readyState = \"open\";\r\n        this.writable = true;\r\n        super.emit(\"open\");\r\n    }\r\n    /**\r\n     * Called with data.\r\n     *\r\n     * @param {String} data\r\n     * @api protected\r\n     */\r\n    onData(data) {\r\n        const packet = decodePacket(data, this.socket.binaryType);\r\n        this.onPacket(packet);\r\n    }\r\n    /**\r\n     * Called with a decoded packet.\r\n     *\r\n     * @api protected\r\n     */\r\n    onPacket(packet) {\r\n        super.emit(\"packet\", packet);\r\n    }\r\n    /**\r\n     * Called upon close.\r\n     *\r\n     * @api protected\r\n     */\r\n    onClose() {\r\n        this.readyState = \"closed\";\r\n        super.emit(\"close\");\r\n    }\r\n}\r\n", "import { Transport } from \"../transport.js\";\r\nimport yeast from \"yeast\";\r\nimport parseqs from \"parseqs\";\r\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\r\nexport class Polling extends Transport {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.polling = false;\r\n    }\r\n    /**\r\n     * Transport name.\r\n     */\r\n    get name() {\r\n        return \"polling\";\r\n    }\r\n    /**\r\n     * Opens the socket (triggers polling). We write a PING message to determine\r\n     * when the transport is open.\r\n     *\r\n     * @api private\r\n     */\r\n    doOpen() {\r\n        this.poll();\r\n    }\r\n    /**\r\n     * Pauses polling.\r\n     *\r\n     * @param {Function} callback upon buffers are flushed and transport is paused\r\n     * @api private\r\n     */\r\n    pause(onPause) {\r\n        this.readyState = \"pausing\";\r\n        const pause = () => {\r\n            this.readyState = \"paused\";\r\n            onPause();\r\n        };\r\n        if (this.polling || !this.writable) {\r\n            let total = 0;\r\n            if (this.polling) {\r\n                total++;\r\n                this.once(\"pollComplete\", function () {\r\n                    --total || pause();\r\n                });\r\n            }\r\n            if (!this.writable) {\r\n                total++;\r\n                this.once(\"drain\", function () {\r\n                    --total || pause();\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            pause();\r\n        }\r\n    }\r\n    /**\r\n     * Starts polling cycle.\r\n     *\r\n     * @api public\r\n     */\r\n    poll() {\r\n        this.polling = true;\r\n        this.doPoll();\r\n        this.emit(\"poll\");\r\n    }\r\n    /**\r\n     * Overloads onData to detect payloads.\r\n     *\r\n     * @api private\r\n     */\r\n    onData(data) {\r\n        const callback = packet => {\r\n            // if its the first message we consider the transport open\r\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\r\n                this.onOpen();\r\n            }\r\n            // if its a close packet, we close the ongoing requests\r\n            if (\"close\" === packet.type) {\r\n                this.onClose();\r\n                return false;\r\n            }\r\n            // otherwise bypass onData and handle the message\r\n            this.onPacket(packet);\r\n        };\r\n        // decode payload\r\n        decodePayload(data, this.socket.binaryType).forEach(callback);\r\n        // if an event did not trigger closing\r\n        if (\"closed\" !== this.readyState) {\r\n            // if we got data we're not polling\r\n            this.polling = false;\r\n            this.emit(\"pollComplete\");\r\n            if (\"open\" === this.readyState) {\r\n                this.poll();\r\n            }\r\n            else {\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * For polling, send a close packet.\r\n     *\r\n     * @api private\r\n     */\r\n    doClose() {\r\n        const close = () => {\r\n            this.write([{ type: \"close\" }]);\r\n        };\r\n        if (\"open\" === this.readyState) {\r\n            close();\r\n        }\r\n        else {\r\n            // in case we're trying to close while\r\n            // handshaking is in progress (GH-164)\r\n            this.once(\"open\", close);\r\n        }\r\n    }\r\n    /**\r\n     * Writes a packets payload.\r\n     *\r\n     * @param {Array} data packets\r\n     * @param {Function} drain callback\r\n     * @api private\r\n     */\r\n    write(packets) {\r\n        this.writable = false;\r\n        encodePayload(packets, data => {\r\n            this.doWrite(data, () => {\r\n                this.writable = true;\r\n                this.emit(\"drain\");\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * Generates uri for connection.\r\n     *\r\n     * @api private\r\n     */\r\n    uri() {\r\n        let query = this.query || {};\r\n        const schema = this.opts.secure ? \"https\" : \"http\";\r\n        let port = \"\";\r\n        // cache busting is forced\r\n        if (false !== this.opts.timestampRequests) {\r\n            query[this.opts.timestampParam] = yeast();\r\n        }\r\n        if (!this.supportsBinary && !query.sid) {\r\n            query.b64 = 1;\r\n        }\r\n        // avoid port if default for schema\r\n        if (this.opts.port &&\r\n            ((\"https\" === schema && Number(this.opts.port) !== 443) ||\r\n                (\"http\" === schema && Number(this.opts.port) !== 80))) {\r\n            port = \":\" + this.opts.port;\r\n        }\r\n        const encodedQuery = parseqs.encode(query);\r\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\r\n        return (schema +\r\n            \"://\" +\r\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\r\n            port +\r\n            this.opts.path +\r\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\r\n    }\r\n}\r\n", "import { Transport } from \"../transport.js\";\r\nimport parseqs from \"parseqs\";\r\nimport yeast from \"yeast\";\r\nimport { pick } from \"../util.js\";\r\nimport { defaultBinaryType, nextTick, usingBrowserWebSocket, WebSocket } from \"./websocket-constructor.js\";\r\nimport { encodePacket } from \"engine.io-parser\";\r\n// detect ReactNative environment\r\nconst isReactNative = typeof navigator !== \"undefined\" &&\r\n    typeof navigator.product === \"string\" &&\r\n    navigator.product.toLowerCase() === \"reactnative\";\r\nexport class WS extends Transport {\r\n    /**\r\n     * WebSocket transport constructor.\r\n     *\r\n     * @api {Object} connection options\r\n     * @api public\r\n     */\r\n    constructor(opts) {\r\n        super(opts);\r\n        this.supportsBinary = !opts.forceBase64;\r\n    }\r\n    /**\r\n     * Transport name.\r\n     *\r\n     * @api public\r\n     */\r\n    get name() {\r\n        return \"websocket\";\r\n    }\r\n    /**\r\n     * Opens socket.\r\n     *\r\n     * @api private\r\n     */\r\n    doOpen() {\r\n        if (!this.check()) {\r\n            // let probe timeout\r\n            return;\r\n        }\r\n        const uri = this.uri();\r\n        const protocols = this.opts.protocols;\r\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\r\n        const opts = isReactNative\r\n            ? {}\r\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\r\n        if (this.opts.extraHeaders) {\r\n            opts.headers = this.opts.extraHeaders;\r\n        }\r\n        try {\r\n            this.ws =\r\n                usingBrowserWebSocket && !isReactNative\r\n                    ? protocols\r\n                        ? new WebSocket(uri, protocols)\r\n                        : new WebSocket(uri)\r\n                    : new WebSocket(uri, protocols, opts);\r\n        }\r\n        catch (err) {\r\n            return this.emit(\"error\", err);\r\n        }\r\n        this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\r\n        this.addEventListeners();\r\n    }\r\n    /**\r\n     * Adds event listeners to the socket\r\n     *\r\n     * @api private\r\n     */\r\n    addEventListeners() {\r\n        this.ws.onopen = () => {\r\n            if (this.opts.autoUnref) {\r\n                this.ws._socket.unref();\r\n            }\r\n            this.onOpen();\r\n        };\r\n        this.ws.onclose = this.onClose.bind(this);\r\n        this.ws.onmessage = ev => this.onData(ev.data);\r\n        this.ws.onerror = e => this.onError(\"websocket error\", e);\r\n    }\r\n    /**\r\n     * Writes data to socket.\r\n     *\r\n     * @param {Array} array of packets.\r\n     * @api private\r\n     */\r\n    write(packets) {\r\n        this.writable = false;\r\n        // encodePacket efficient as it uses WS framing\r\n        // no need for encodePayload\r\n        for (let i = 0; i < packets.length; i++) {\r\n            const packet = packets[i];\r\n            const lastPacket = i === packets.length - 1;\r\n            encodePacket(packet, this.supportsBinary, data => {\r\n                // always create a new object (GH-437)\r\n                const opts = {};\r\n                if (!usingBrowserWebSocket) {\r\n                    if (packet.options) {\r\n                        opts.compress = packet.options.compress;\r\n                    }\r\n                    if (this.opts.perMessageDeflate) {\r\n                        const len = \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\r\n                        if (len < this.opts.perMessageDeflate.threshold) {\r\n                            opts.compress = false;\r\n                        }\r\n                    }\r\n                }\r\n                // Sometimes the websocket has already been closed but the browser didn't\r\n                // have a chance of informing us about it yet, in that case send will\r\n                // throw an error\r\n                try {\r\n                    if (usingBrowserWebSocket) {\r\n                        // TypeError is thrown when passing the second argument on Safari\r\n                        this.ws.send(data);\r\n                    }\r\n                    else {\r\n                        this.ws.send(data, opts);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                }\r\n                if (lastPacket) {\r\n                    // fake drain\r\n                    // defer to next tick to allow Socket to clear writeBuffer\r\n                    nextTick(() => {\r\n                        this.writable = true;\r\n                        this.emit(\"drain\");\r\n                    }, this.setTimeoutFn);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Closes socket.\r\n     *\r\n     * @api private\r\n     */\r\n    doClose() {\r\n        if (typeof this.ws !== \"undefined\") {\r\n            this.ws.close();\r\n            this.ws = null;\r\n        }\r\n    }\r\n    /**\r\n     * Generates uri for connection.\r\n     *\r\n     * @api private\r\n     */\r\n    uri() {\r\n        let query = this.query || {};\r\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\r\n        let port = \"\";\r\n        // avoid port if default for schema\r\n        if (this.opts.port &&\r\n            ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\r\n                (\"ws\" === schema && Number(this.opts.port) !== 80))) {\r\n            port = \":\" + this.opts.port;\r\n        }\r\n        // append timestamp to URI\r\n        if (this.opts.timestampRequests) {\r\n            query[this.opts.timestampParam] = yeast();\r\n        }\r\n        // communicate binary support capabilities\r\n        if (!this.supportsBinary) {\r\n            query.b64 = 1;\r\n        }\r\n        const encodedQuery = parseqs.encode(query);\r\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\r\n        return (schema +\r\n            \"://\" +\r\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\r\n            port +\r\n            this.opts.path +\r\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\r\n    }\r\n    /**\r\n     * Feature detection for WebSocket.\r\n     *\r\n     * @return {Boolean} whether this transport is available.\r\n     * @api public\r\n     */\r\n    check() {\r\n        return (!!WebSocket &&\r\n            !(\"__initialize\" in WebSocket && this.name === WS.prototype.name));\r\n    }\r\n}\r\n", "import globalThis from \"../globalThis.js\";\r\nexport const nextTick = (() => {\r\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\r\n    if (isPromiseAvailable) {\r\n        return cb => Promise.resolve().then(cb);\r\n    }\r\n    else {\r\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\r\n    }\r\n})();\r\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\r\nexport const usingBrowserWebSocket = true;\r\nexport const defaultBinaryType = \"arraybuffer\";\r\n", "import { XHR } from \"./polling-xhr.js\";\r\nimport { WS } from \"./websocket.js\";\r\nexport const transports = {\r\n    websocket: WS,\r\n    polling: XHR\r\n};\r\n", "import { transports } from \"./transports/index.js\";\r\nimport { installTimerFunctions } from \"./util.js\";\r\nimport parseqs from \"parseqs\";\r\nimport parseuri from \"parseuri\";\r\nimport { Emitter } from \"@socket.io/component-emitter\";\r\nimport { protocol } from \"engine.io-parser\";\r\nexport class Socket extends Emitter {\r\n    /**\r\n     * Socket constructor.\r\n     *\r\n     * @param {String|Object} uri or options\r\n     * @param {Object} opts - options\r\n     * @api public\r\n     */\r\n    constructor(uri, opts = {}) {\r\n        super();\r\n        if (uri && \"object\" === typeof uri) {\r\n            opts = uri;\r\n            uri = null;\r\n        }\r\n        if (uri) {\r\n            uri = parseuri(uri);\r\n            opts.hostname = uri.host;\r\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\r\n            opts.port = uri.port;\r\n            if (uri.query)\r\n                opts.query = uri.query;\r\n        }\r\n        else if (opts.host) {\r\n            opts.hostname = parseuri(opts.host).host;\r\n        }\r\n        installTimerFunctions(this, opts);\r\n        this.secure =\r\n            null != opts.secure\r\n                ? opts.secure\r\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\r\n        if (opts.hostname && !opts.port) {\r\n            // if no port is specified manually, use the protocol default\r\n            opts.port = this.secure ? \"443\" : \"80\";\r\n        }\r\n        this.hostname =\r\n            opts.hostname ||\r\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\r\n        this.port =\r\n            opts.port ||\r\n                (typeof location !== \"undefined\" && location.port\r\n                    ? location.port\r\n                    : this.secure\r\n                        ? \"443\"\r\n                        : \"80\");\r\n        this.transports = opts.transports || [\"polling\", \"websocket\"];\r\n        this.readyState = \"\";\r\n        this.writeBuffer = [];\r\n        this.prevBufferLen = 0;\r\n        this.opts = Object.assign({\r\n            path: \"/engine.io\",\r\n            agent: false,\r\n            withCredentials: false,\r\n            upgrade: true,\r\n            timestampParam: \"t\",\r\n            rememberUpgrade: false,\r\n            rejectUnauthorized: true,\r\n            perMessageDeflate: {\r\n                threshold: 1024\r\n            },\r\n            transportOptions: {},\r\n            closeOnBeforeunload: true\r\n        }, opts);\r\n        this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\r\n        if (typeof this.opts.query === \"string\") {\r\n            this.opts.query = parseqs.decode(this.opts.query);\r\n        }\r\n        // set on handshake\r\n        this.id = null;\r\n        this.upgrades = null;\r\n        this.pingInterval = null;\r\n        this.pingTimeout = null;\r\n        // set on heartbeat\r\n        this.pingTimeoutTimer = null;\r\n        if (typeof addEventListener === \"function\") {\r\n            if (this.opts.closeOnBeforeunload) {\r\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\r\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\r\n                // closed/reloaded)\r\n                addEventListener(\"beforeunload\", () => {\r\n                    if (this.transport) {\r\n                        // silently close the transport\r\n                        this.transport.removeAllListeners();\r\n                        this.transport.close();\r\n                    }\r\n                }, false);\r\n            }\r\n            if (this.hostname !== \"localhost\") {\r\n                this.offlineEventListener = () => {\r\n                    this.onClose(\"transport close\");\r\n                };\r\n                addEventListener(\"offline\", this.offlineEventListener, false);\r\n            }\r\n        }\r\n        this.open();\r\n    }\r\n    /**\r\n     * Creates transport of the given type.\r\n     *\r\n     * @param {String} transport name\r\n     * @return {Transport}\r\n     * @api private\r\n     */\r\n    createTransport(name) {\r\n        const query = clone(this.opts.query);\r\n        // append engine.io protocol identifier\r\n        query.EIO = protocol;\r\n        // transport name\r\n        query.transport = name;\r\n        // session id if we already have one\r\n        if (this.id)\r\n            query.sid = this.id;\r\n        const opts = Object.assign({}, this.opts.transportOptions[name], this.opts, {\r\n            query,\r\n            socket: this,\r\n            hostname: this.hostname,\r\n            secure: this.secure,\r\n            port: this.port\r\n        });\r\n        return new transports[name](opts);\r\n    }\r\n    /**\r\n     * Initializes transport to use and starts probe.\r\n     *\r\n     * @api private\r\n     */\r\n    open() {\r\n        let transport;\r\n        if (this.opts.rememberUpgrade &&\r\n            Socket.priorWebsocketSuccess &&\r\n            this.transports.indexOf(\"websocket\") !== -1) {\r\n            transport = \"websocket\";\r\n        }\r\n        else if (0 === this.transports.length) {\r\n            // Emit error on next tick so it can be listened to\r\n            this.setTimeoutFn(() => {\r\n                this.emitReserved(\"error\", \"No transports available\");\r\n            }, 0);\r\n            return;\r\n        }\r\n        else {\r\n            transport = this.transports[0];\r\n        }\r\n        this.readyState = \"opening\";\r\n        // Retry with the next transport if the transport is disabled (jsonp: false)\r\n        try {\r\n            transport = this.createTransport(transport);\r\n        }\r\n        catch (e) {\r\n            this.transports.shift();\r\n            this.open();\r\n            return;\r\n        }\r\n        transport.open();\r\n        this.setTransport(transport);\r\n    }\r\n    /**\r\n     * Sets the current transport. Disables the existing one (if any).\r\n     *\r\n     * @api private\r\n     */\r\n    setTransport(transport) {\r\n        if (this.transport) {\r\n            this.transport.removeAllListeners();\r\n        }\r\n        // set up transport\r\n        this.transport = transport;\r\n        // set up transport listeners\r\n        transport\r\n            .on(\"drain\", this.onDrain.bind(this))\r\n            .on(\"packet\", this.onPacket.bind(this))\r\n            .on(\"error\", this.onError.bind(this))\r\n            .on(\"close\", () => {\r\n            this.onClose(\"transport close\");\r\n        });\r\n    }\r\n    /**\r\n     * Probes a transport.\r\n     *\r\n     * @param {String} transport name\r\n     * @api private\r\n     */\r\n    probe(name) {\r\n        let transport = this.createTransport(name);\r\n        let failed = false;\r\n        Socket.priorWebsocketSuccess = false;\r\n        const onTransportOpen = () => {\r\n            if (failed)\r\n                return;\r\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\r\n            transport.once(\"packet\", msg => {\r\n                if (failed)\r\n                    return;\r\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\r\n                    this.upgrading = true;\r\n                    this.emitReserved(\"upgrading\", transport);\r\n                    if (!transport)\r\n                        return;\r\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\r\n                    this.transport.pause(() => {\r\n                        if (failed)\r\n                            return;\r\n                        if (\"closed\" === this.readyState)\r\n                            return;\r\n                        cleanup();\r\n                        this.setTransport(transport);\r\n                        transport.send([{ type: \"upgrade\" }]);\r\n                        this.emitReserved(\"upgrade\", transport);\r\n                        transport = null;\r\n                        this.upgrading = false;\r\n                        this.flush();\r\n                    });\r\n                }\r\n                else {\r\n                    const err = new Error(\"probe error\");\r\n                    // @ts-ignore\r\n                    err.transport = transport.name;\r\n                    this.emitReserved(\"upgradeError\", err);\r\n                }\r\n            });\r\n        };\r\n        function freezeTransport() {\r\n            if (failed)\r\n                return;\r\n            // Any callback called by transport should be ignored since now\r\n            failed = true;\r\n            cleanup();\r\n            transport.close();\r\n            transport = null;\r\n        }\r\n        // Handle any error that happens while probing\r\n        const onerror = err => {\r\n            const error = new Error(\"probe error: \" + err);\r\n            // @ts-ignore\r\n            error.transport = transport.name;\r\n            freezeTransport();\r\n            this.emitReserved(\"upgradeError\", error);\r\n        };\r\n        function onTransportClose() {\r\n            onerror(\"transport closed\");\r\n        }\r\n        // When the socket is closed while we're probing\r\n        function onclose() {\r\n            onerror(\"socket closed\");\r\n        }\r\n        // When the socket is upgraded while we're probing\r\n        function onupgrade(to) {\r\n            if (transport && to.name !== transport.name) {\r\n                freezeTransport();\r\n            }\r\n        }\r\n        // Remove all listeners on the transport and on self\r\n        const cleanup = () => {\r\n            transport.removeListener(\"open\", onTransportOpen);\r\n            transport.removeListener(\"error\", onerror);\r\n            transport.removeListener(\"close\", onTransportClose);\r\n            this.off(\"close\", onclose);\r\n            this.off(\"upgrading\", onupgrade);\r\n        };\r\n        transport.once(\"open\", onTransportOpen);\r\n        transport.once(\"error\", onerror);\r\n        transport.once(\"close\", onTransportClose);\r\n        this.once(\"close\", onclose);\r\n        this.once(\"upgrading\", onupgrade);\r\n        transport.open();\r\n    }\r\n    /**\r\n     * Called when connection is deemed open.\r\n     *\r\n     * @api private\r\n     */\r\n    onOpen() {\r\n        this.readyState = \"open\";\r\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\r\n        this.emitReserved(\"open\");\r\n        this.flush();\r\n        // we check for `readyState` in case an `open`\r\n        // listener already closed the socket\r\n        if (\"open\" === this.readyState &&\r\n            this.opts.upgrade &&\r\n            this.transport.pause) {\r\n            let i = 0;\r\n            const l = this.upgrades.length;\r\n            for (; i < l; i++) {\r\n                this.probe(this.upgrades[i]);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Handles a packet.\r\n     *\r\n     * @api private\r\n     */\r\n    onPacket(packet) {\r\n        if (\"opening\" === this.readyState ||\r\n            \"open\" === this.readyState ||\r\n            \"closing\" === this.readyState) {\r\n            this.emitReserved(\"packet\", packet);\r\n            // Socket is live - any packet counts\r\n            this.emitReserved(\"heartbeat\");\r\n            switch (packet.type) {\r\n                case \"open\":\r\n                    this.onHandshake(JSON.parse(packet.data));\r\n                    break;\r\n                case \"ping\":\r\n                    this.resetPingTimeout();\r\n                    this.sendPacket(\"pong\");\r\n                    this.emitReserved(\"ping\");\r\n                    this.emitReserved(\"pong\");\r\n                    break;\r\n                case \"error\":\r\n                    const err = new Error(\"server error\");\r\n                    // @ts-ignore\r\n                    err.code = packet.data;\r\n                    this.onError(err);\r\n                    break;\r\n                case \"message\":\r\n                    this.emitReserved(\"data\", packet.data);\r\n                    this.emitReserved(\"message\", packet.data);\r\n                    break;\r\n            }\r\n        }\r\n        else {\r\n        }\r\n    }\r\n    /**\r\n     * Called upon handshake completion.\r\n     *\r\n     * @param {Object} data - handshake obj\r\n     * @api private\r\n     */\r\n    onHandshake(data) {\r\n        this.emitReserved(\"handshake\", data);\r\n        this.id = data.sid;\r\n        this.transport.query.sid = data.sid;\r\n        this.upgrades = this.filterUpgrades(data.upgrades);\r\n        this.pingInterval = data.pingInterval;\r\n        this.pingTimeout = data.pingTimeout;\r\n        this.onOpen();\r\n        // In case open handler closes socket\r\n        if (\"closed\" === this.readyState)\r\n            return;\r\n        this.resetPingTimeout();\r\n    }\r\n    /**\r\n     * Sets and resets ping timeout timer based on server pings.\r\n     *\r\n     * @api private\r\n     */\r\n    resetPingTimeout() {\r\n        this.clearTimeoutFn(this.pingTimeoutTimer);\r\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\r\n            this.onClose(\"ping timeout\");\r\n        }, this.pingInterval + this.pingTimeout);\r\n        if (this.opts.autoUnref) {\r\n            this.pingTimeoutTimer.unref();\r\n        }\r\n    }\r\n    /**\r\n     * Called on `drain` event\r\n     *\r\n     * @api private\r\n     */\r\n    onDrain() {\r\n        this.writeBuffer.splice(0, this.prevBufferLen);\r\n        // setting prevBufferLen = 0 is very important\r\n        // for example, when upgrading, upgrade packet is sent over,\r\n        // and a nonzero prevBufferLen could cause problems on `drain`\r\n        this.prevBufferLen = 0;\r\n        if (0 === this.writeBuffer.length) {\r\n            this.emitReserved(\"drain\");\r\n        }\r\n        else {\r\n            this.flush();\r\n        }\r\n    }\r\n    /**\r\n     * Flush write buffers.\r\n     *\r\n     * @api private\r\n     */\r\n    flush() {\r\n        if (\"closed\" !== this.readyState &&\r\n            this.transport.writable &&\r\n            !this.upgrading &&\r\n            this.writeBuffer.length) {\r\n            this.transport.send(this.writeBuffer);\r\n            // keep track of current length of writeBuffer\r\n            // splice writeBuffer and callbackBuffer on `drain`\r\n            this.prevBufferLen = this.writeBuffer.length;\r\n            this.emitReserved(\"flush\");\r\n        }\r\n    }\r\n    /**\r\n     * Sends a message.\r\n     *\r\n     * @param {String} message.\r\n     * @param {Function} callback function.\r\n     * @param {Object} options.\r\n     * @return {Socket} for chaining.\r\n     * @api public\r\n     */\r\n    write(msg, options, fn) {\r\n        this.sendPacket(\"message\", msg, options, fn);\r\n        return this;\r\n    }\r\n    send(msg, options, fn) {\r\n        this.sendPacket(\"message\", msg, options, fn);\r\n        return this;\r\n    }\r\n    /**\r\n     * Sends a packet.\r\n     *\r\n     * @param {String} packet type.\r\n     * @param {String} data.\r\n     * @param {Object} options.\r\n     * @param {Function} callback function.\r\n     * @api private\r\n     */\r\n    sendPacket(type, data, options, fn) {\r\n        if (\"function\" === typeof data) {\r\n            fn = data;\r\n            data = undefined;\r\n        }\r\n        if (\"function\" === typeof options) {\r\n            fn = options;\r\n            options = null;\r\n        }\r\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\r\n            return;\r\n        }\r\n        options = options || {};\r\n        options.compress = false !== options.compress;\r\n        const packet = {\r\n            type: type,\r\n            data: data,\r\n            options: options\r\n        };\r\n        this.emitReserved(\"packetCreate\", packet);\r\n        this.writeBuffer.push(packet);\r\n        if (fn)\r\n            this.once(\"flush\", fn);\r\n        this.flush();\r\n    }\r\n    /**\r\n     * Closes the connection.\r\n     *\r\n     * @api public\r\n     */\r\n    close() {\r\n        const close = () => {\r\n            this.onClose(\"forced close\");\r\n            this.transport.close();\r\n        };\r\n        const cleanupAndClose = () => {\r\n            this.off(\"upgrade\", cleanupAndClose);\r\n            this.off(\"upgradeError\", cleanupAndClose);\r\n            close();\r\n        };\r\n        const waitForUpgrade = () => {\r\n            // wait for upgrade to finish since we can't send packets while pausing a transport\r\n            this.once(\"upgrade\", cleanupAndClose);\r\n            this.once(\"upgradeError\", cleanupAndClose);\r\n        };\r\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\r\n            this.readyState = \"closing\";\r\n            if (this.writeBuffer.length) {\r\n                this.once(\"drain\", () => {\r\n                    if (this.upgrading) {\r\n                        waitForUpgrade();\r\n                    }\r\n                    else {\r\n                        close();\r\n                    }\r\n                });\r\n            }\r\n            else if (this.upgrading) {\r\n                waitForUpgrade();\r\n            }\r\n            else {\r\n                close();\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Called upon transport error\r\n     *\r\n     * @api private\r\n     */\r\n    onError(err) {\r\n        Socket.priorWebsocketSuccess = false;\r\n        this.emitReserved(\"error\", err);\r\n        this.onClose(\"transport error\", err);\r\n    }\r\n    /**\r\n     * Called upon transport close.\r\n     *\r\n     * @api private\r\n     */\r\n    onClose(reason, desc) {\r\n        if (\"opening\" === this.readyState ||\r\n            \"open\" === this.readyState ||\r\n            \"closing\" === this.readyState) {\r\n            // clear timers\r\n            this.clearTimeoutFn(this.pingTimeoutTimer);\r\n            // stop event from firing again for transport\r\n            this.transport.removeAllListeners(\"close\");\r\n            // ensure transport won't stay open\r\n            this.transport.close();\r\n            // ignore further transport communication\r\n            this.transport.removeAllListeners();\r\n            if (typeof removeEventListener === \"function\") {\r\n                removeEventListener(\"offline\", this.offlineEventListener, false);\r\n            }\r\n            // set ready state\r\n            this.readyState = \"closed\";\r\n            // clear session id\r\n            this.id = null;\r\n            // emit close event\r\n            this.emitReserved(\"close\", reason, desc);\r\n            // clean buffers after, so users can still\r\n            // grab the buffers on `close` event\r\n            this.writeBuffer = [];\r\n            this.prevBufferLen = 0;\r\n        }\r\n    }\r\n    /**\r\n     * Filters upgrades, returning only those matching client transports.\r\n     *\r\n     * @param {Array} server upgrades\r\n     * @api private\r\n     *\r\n     */\r\n    filterUpgrades(upgrades) {\r\n        const filteredUpgrades = [];\r\n        let i = 0;\r\n        const j = upgrades.length;\r\n        for (; i < j; i++) {\r\n            if (~this.transports.indexOf(upgrades[i]))\r\n                filteredUpgrades.push(upgrades[i]);\r\n        }\r\n        return filteredUpgrades;\r\n    }\r\n}\r\nSocket.protocol = protocol;\r\nfunction clone(obj) {\r\n    const o = {};\r\n    for (let i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n            o[i] = obj[i];\r\n        }\r\n    }\r\n    return o;\r\n}\r\n", "import { Socket } from \"./socket.js\";\r\nexport { Socket };\r\nexport const protocol = Socket.protocol;\r\nexport { Transport } from \"./transport.js\";\r\nexport { transports } from \"./transports/index.js\";\r\nexport { installTimerFunctions } from \"./util.js\";\r\n", "import { Emitter } from \"@socket.io/component-emitter\";\r\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\r\nimport { isBinary, hasBinary } from \"./is-binary.js\";\r\n/**\r\n * Protocol version.\r\n *\r\n * @public\r\n */\r\nexport const protocol = 5;\r\nexport var PacketType;\r\n(function (PacketType) {\r\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\r\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\r\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\r\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\r\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\r\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\r\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\r\n})(PacketType || (PacketType = {}));\r\n/**\r\n * A socket.io Encoder instance\r\n */\r\nexport class Encoder {\r\n    /**\r\n     * Encode a packet as a single string if non-binary, or as a\r\n     * buffer sequence, depending on packet type.\r\n     *\r\n     * @param {Object} obj - packet object\r\n     */\r\n    encode(obj) {\r\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\r\n            if (hasBinary(obj)) {\r\n                obj.type =\r\n                    obj.type === PacketType.EVENT\r\n                        ? PacketType.BINARY_EVENT\r\n                        : PacketType.BINARY_ACK;\r\n                return this.encodeAsBinary(obj);\r\n            }\r\n        }\r\n        return [this.encodeAsString(obj)];\r\n    }\r\n    /**\r\n     * Encode packet as string.\r\n     */\r\n    encodeAsString(obj) {\r\n        // first is type\r\n        let str = \"\" + obj.type;\r\n        // attachments if we have them\r\n        if (obj.type === PacketType.BINARY_EVENT ||\r\n            obj.type === PacketType.BINARY_ACK) {\r\n            str += obj.attachments + \"-\";\r\n        }\r\n        // if we have a namespace other than `/`\r\n        // we append it followed by a comma `,`\r\n        if (obj.nsp && \"/\" !== obj.nsp) {\r\n            str += obj.nsp + \",\";\r\n        }\r\n        // immediately followed by the id\r\n        if (null != obj.id) {\r\n            str += obj.id;\r\n        }\r\n        // json data\r\n        if (null != obj.data) {\r\n            str += JSON.stringify(obj.data);\r\n        }\r\n        return str;\r\n    }\r\n    /**\r\n     * Encode packet as 'buffer sequence' by removing blobs, and\r\n     * deconstructing packet into object with placeholders and\r\n     * a list of buffers.\r\n     */\r\n    encodeAsBinary(obj) {\r\n        const deconstruction = deconstructPacket(obj);\r\n        const pack = this.encodeAsString(deconstruction.packet);\r\n        const buffers = deconstruction.buffers;\r\n        buffers.unshift(pack); // add packet info to beginning of data list\r\n        return buffers; // write all the buffers\r\n    }\r\n}\r\n/**\r\n * A socket.io Decoder instance\r\n *\r\n * @return {Object} decoder\r\n */\r\nexport class Decoder extends Emitter {\r\n    constructor() {\r\n        super();\r\n    }\r\n    /**\r\n     * Decodes an encoded packet string into packet JSON.\r\n     *\r\n     * @param {String} obj - encoded packet\r\n     */\r\n    add(obj) {\r\n        let packet;\r\n        if (typeof obj === \"string\") {\r\n            packet = this.decodeString(obj);\r\n            if (packet.type === PacketType.BINARY_EVENT ||\r\n                packet.type === PacketType.BINARY_ACK) {\r\n                // binary packet's json\r\n                this.reconstructor = new BinaryReconstructor(packet);\r\n                // no attachments, labeled binary but no binary data to follow\r\n                if (packet.attachments === 0) {\r\n                    super.emitReserved(\"decoded\", packet);\r\n                }\r\n            }\r\n            else {\r\n                // non-binary full packet\r\n                super.emitReserved(\"decoded\", packet);\r\n            }\r\n        }\r\n        else if (isBinary(obj) || obj.base64) {\r\n            // raw binary data\r\n            if (!this.reconstructor) {\r\n                throw new Error(\"got binary data when not reconstructing a packet\");\r\n            }\r\n            else {\r\n                packet = this.reconstructor.takeBinaryData(obj);\r\n                if (packet) {\r\n                    // received final buffer\r\n                    this.reconstructor = null;\r\n                    super.emitReserved(\"decoded\", packet);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(\"Unknown type: \" + obj);\r\n        }\r\n    }\r\n    /**\r\n     * Decode a packet String (JSON data)\r\n     *\r\n     * @param {String} str\r\n     * @return {Object} packet\r\n     */\r\n    decodeString(str) {\r\n        let i = 0;\r\n        // look up type\r\n        const p = {\r\n            type: Number(str.charAt(0)),\r\n        };\r\n        if (PacketType[p.type] === undefined) {\r\n            throw new Error(\"unknown packet type \" + p.type);\r\n        }\r\n        // look up attachments if type binary\r\n        if (p.type === PacketType.BINARY_EVENT ||\r\n            p.type === PacketType.BINARY_ACK) {\r\n            const start = i + 1;\r\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\r\n            const buf = str.substring(start, i);\r\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\r\n                throw new Error(\"Illegal attachments\");\r\n            }\r\n            p.attachments = Number(buf);\r\n        }\r\n        // look up namespace (if any)\r\n        if (\"/\" === str.charAt(i + 1)) {\r\n            const start = i + 1;\r\n            while (++i) {\r\n                const c = str.charAt(i);\r\n                if (\",\" === c)\r\n                    break;\r\n                if (i === str.length)\r\n                    break;\r\n            }\r\n            p.nsp = str.substring(start, i);\r\n        }\r\n        else {\r\n            p.nsp = \"/\";\r\n        }\r\n        // look up id\r\n        const next = str.charAt(i + 1);\r\n        if (\"\" !== next && Number(next) == next) {\r\n            const start = i + 1;\r\n            while (++i) {\r\n                const c = str.charAt(i);\r\n                if (null == c || Number(c) != c) {\r\n                    --i;\r\n                    break;\r\n                }\r\n                if (i === str.length)\r\n                    break;\r\n            }\r\n            p.id = Number(str.substring(start, i + 1));\r\n        }\r\n        // look up json data\r\n        if (str.charAt(++i)) {\r\n            const payload = tryParse(str.substr(i));\r\n            if (Decoder.isPayloadValid(p.type, payload)) {\r\n                p.data = payload;\r\n            }\r\n            else {\r\n                throw new Error(\"invalid payload\");\r\n            }\r\n        }\r\n        return p;\r\n    }\r\n    static isPayloadValid(type, payload) {\r\n        switch (type) {\r\n            case PacketType.CONNECT:\r\n                return typeof payload === \"object\";\r\n            case PacketType.DISCONNECT:\r\n                return payload === undefined;\r\n            case PacketType.CONNECT_ERROR:\r\n                return typeof payload === \"string\" || typeof payload === \"object\";\r\n            case PacketType.EVENT:\r\n            case PacketType.BINARY_EVENT:\r\n                return Array.isArray(payload) && payload.length > 0;\r\n            case PacketType.ACK:\r\n            case PacketType.BINARY_ACK:\r\n                return Array.isArray(payload);\r\n        }\r\n    }\r\n    /**\r\n     * Deallocates a parser's resources\r\n     */\r\n    destroy() {\r\n        if (this.reconstructor) {\r\n            this.reconstructor.finishedReconstruction();\r\n        }\r\n    }\r\n}\r\nfunction tryParse(str) {\r\n    try {\r\n        return JSON.parse(str);\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * A manager of a binary event's 'buffer sequence'. Should\r\n * be constructed whenever a packet of type BINARY_EVENT is\r\n * decoded.\r\n *\r\n * @param {Object} packet\r\n * @return {BinaryReconstructor} initialized reconstructor\r\n */\r\nclass BinaryReconstructor {\r\n    constructor(packet) {\r\n        this.packet = packet;\r\n        this.buffers = [];\r\n        this.reconPack = packet;\r\n    }\r\n    /**\r\n     * Method to be called when binary data received from connection\r\n     * after a BINARY_EVENT packet.\r\n     *\r\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\r\n     * @return {null | Object} returns null if more binary data is expected or\r\n     *   a reconstructed packet object if all buffers have been received.\r\n     */\r\n    takeBinaryData(binData) {\r\n        this.buffers.push(binData);\r\n        if (this.buffers.length === this.reconPack.attachments) {\r\n            // done with buffer list\r\n            const packet = reconstructPacket(this.reconPack, this.buffers);\r\n            this.finishedReconstruction();\r\n            return packet;\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     * Cleans up binary packet reconstruction variables.\r\n     */\r\n    finishedReconstruction() {\r\n        this.reconPack = null;\r\n        this.buffers = [];\r\n    }\r\n}\r\n", "const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\r\nconst isView = (obj) => {\r\n    return typeof ArrayBuffer.isView === \"function\"\r\n        ? ArrayBuffer.isView(obj)\r\n        : obj.buffer instanceof ArrayBuffer;\r\n};\r\nconst toString = Object.prototype.toString;\r\nconst withNativeBlob = typeof Blob === \"function\" ||\r\n    (typeof Blob !== \"undefined\" &&\r\n        toString.call(Blob) === \"[object BlobConstructor]\");\r\nconst withNativeFile = typeof File === \"function\" ||\r\n    (typeof File !== \"undefined\" &&\r\n        toString.call(File) === \"[object FileConstructor]\");\r\n/**\r\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\r\n *\r\n * @private\r\n */\r\nexport function isBinary(obj) {\r\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\r\n        (withNativeBlob && obj instanceof Blob) ||\r\n        (withNativeFile && obj instanceof File));\r\n}\r\nexport function hasBinary(obj, toJSON) {\r\n    if (!obj || typeof obj !== \"object\") {\r\n        return false;\r\n    }\r\n    if (Array.isArray(obj)) {\r\n        for (let i = 0, l = obj.length; i < l; i++) {\r\n            if (hasBinary(obj[i])) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    if (isBinary(obj)) {\r\n        return true;\r\n    }\r\n    if (obj.toJSON &&\r\n        typeof obj.toJSON === \"function\" &&\r\n        arguments.length === 1) {\r\n        return hasBinary(obj.toJSON(), true);\r\n    }\r\n    for (const key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n", "import { isBinary } from \"./is-binary.js\";\r\n/**\r\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\r\n *\r\n * @param {Object} packet - socket.io event packet\r\n * @return {Object} with deconstructed packet and list of buffers\r\n * @public\r\n */\r\nexport function deconstructPacket(packet) {\r\n    const buffers = [];\r\n    const packetData = packet.data;\r\n    const pack = packet;\r\n    pack.data = _deconstructPacket(packetData, buffers);\r\n    pack.attachments = buffers.length; // number of binary 'attachments'\r\n    return { packet: pack, buffers: buffers };\r\n}\r\nfunction _deconstructPacket(data, buffers) {\r\n    if (!data)\r\n        return data;\r\n    if (isBinary(data)) {\r\n        const placeholder = { _placeholder: true, num: buffers.length };\r\n        buffers.push(data);\r\n        return placeholder;\r\n    }\r\n    else if (Array.isArray(data)) {\r\n        const newData = new Array(data.length);\r\n        for (let i = 0; i < data.length; i++) {\r\n            newData[i] = _deconstructPacket(data[i], buffers);\r\n        }\r\n        return newData;\r\n    }\r\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\r\n        const newData = {};\r\n        for (const key in data) {\r\n            if (data.hasOwnProperty(key)) {\r\n                newData[key] = _deconstructPacket(data[key], buffers);\r\n            }\r\n        }\r\n        return newData;\r\n    }\r\n    return data;\r\n}\r\n/**\r\n * Reconstructs a binary packet from its placeholder packet and buffers\r\n *\r\n * @param {Object} packet - event packet with placeholders\r\n * @param {Array} buffers - binary buffers to put in placeholder positions\r\n * @return {Object} reconstructed packet\r\n * @public\r\n */\r\nexport function reconstructPacket(packet, buffers) {\r\n    packet.data = _reconstructPacket(packet.data, buffers);\r\n    packet.attachments = undefined; // no longer useful\r\n    return packet;\r\n}\r\nfunction _reconstructPacket(data, buffers) {\r\n    if (!data)\r\n        return data;\r\n    if (data && data._placeholder) {\r\n        return buffers[data.num]; // appropriate buffer (should be natural order anyway)\r\n    }\r\n    else if (Array.isArray(data)) {\r\n        for (let i = 0; i < data.length; i++) {\r\n            data[i] = _reconstructPacket(data[i], buffers);\r\n        }\r\n    }\r\n    else if (typeof data === \"object\") {\r\n        for (const key in data) {\r\n            if (data.hasOwnProperty(key)) {\r\n                data[key] = _reconstructPacket(data[key], buffers);\r\n            }\r\n        }\r\n    }\r\n    return data;\r\n}\r\n", "export function on(obj, ev, fn) {\r\n    obj.on(ev, fn);\r\n    return function subDestroy() {\r\n        obj.off(ev, fn);\r\n    };\r\n}\r\n", "import { PacketType } from \"socket.io-parser\";\r\nimport { on } from \"./on.js\";\r\nimport { Emitter, } from \"@socket.io/component-emitter\";\r\n/**\r\n * Internal events.\r\n * These events can't be emitted by the user.\r\n */\r\nconst RESERVED_EVENTS = Object.freeze({\r\n    connect: 1,\r\n    connect_error: 1,\r\n    disconnect: 1,\r\n    disconnecting: 1,\r\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\r\n    newListener: 1,\r\n    removeListener: 1,\r\n});\r\nexport class Socket extends Emitter {\r\n    /**\r\n     * `Socket` constructor.\r\n     *\r\n     * @public\r\n     */\r\n    constructor(io, nsp, opts) {\r\n        super();\r\n        this.connected = false;\r\n        this.disconnected = true;\r\n        this.receiveBuffer = [];\r\n        this.sendBuffer = [];\r\n        this.ids = 0;\r\n        this.acks = {};\r\n        this.flags = {};\r\n        this.io = io;\r\n        this.nsp = nsp;\r\n        if (opts && opts.auth) {\r\n            this.auth = opts.auth;\r\n        }\r\n        if (this.io._autoConnect)\r\n            this.open();\r\n    }\r\n    /**\r\n     * Subscribe to open, close and packet events\r\n     *\r\n     * @private\r\n     */\r\n    subEvents() {\r\n        if (this.subs)\r\n            return;\r\n        const io = this.io;\r\n        this.subs = [\r\n            on(io, \"open\", this.onopen.bind(this)),\r\n            on(io, \"packet\", this.onpacket.bind(this)),\r\n            on(io, \"error\", this.onerror.bind(this)),\r\n            on(io, \"close\", this.onclose.bind(this)),\r\n        ];\r\n    }\r\n    /**\r\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\r\n     */\r\n    get active() {\r\n        return !!this.subs;\r\n    }\r\n    /**\r\n     * \"Opens\" the socket.\r\n     *\r\n     * @public\r\n     */\r\n    connect() {\r\n        if (this.connected)\r\n            return this;\r\n        this.subEvents();\r\n        if (!this.io[\"_reconnecting\"])\r\n            this.io.open(); // ensure open\r\n        if (\"open\" === this.io._readyState)\r\n            this.onopen();\r\n        return this;\r\n    }\r\n    /**\r\n     * Alias for connect()\r\n     */\r\n    open() {\r\n        return this.connect();\r\n    }\r\n    /**\r\n     * Sends a `message` event.\r\n     *\r\n     * @return self\r\n     * @public\r\n     */\r\n    send(...args) {\r\n        args.unshift(\"message\");\r\n        this.emit.apply(this, args);\r\n        return this;\r\n    }\r\n    /**\r\n     * Override `emit`.\r\n     * If the event is in `events`, it's emitted normally.\r\n     *\r\n     * @return self\r\n     * @public\r\n     */\r\n    emit(ev, ...args) {\r\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\r\n            throw new Error('\"' + ev + '\" is a reserved event name');\r\n        }\r\n        args.unshift(ev);\r\n        const packet = {\r\n            type: PacketType.EVENT,\r\n            data: args,\r\n        };\r\n        packet.options = {};\r\n        packet.options.compress = this.flags.compress !== false;\r\n        // event ack callback\r\n        if (\"function\" === typeof args[args.length - 1]) {\r\n            const id = this.ids++;\r\n            const ack = args.pop();\r\n            this._registerAckCallback(id, ack);\r\n            packet.id = id;\r\n        }\r\n        const isTransportWritable = this.io.engine &&\r\n            this.io.engine.transport &&\r\n            this.io.engine.transport.writable;\r\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\r\n        if (discardPacket) {\r\n        }\r\n        else if (this.connected) {\r\n            this.packet(packet);\r\n        }\r\n        else {\r\n            this.sendBuffer.push(packet);\r\n        }\r\n        this.flags = {};\r\n        return this;\r\n    }\r\n    /**\r\n     * @private\r\n     */\r\n    _registerAckCallback(id, ack) {\r\n        const timeout = this.flags.timeout;\r\n        if (timeout === undefined) {\r\n            this.acks[id] = ack;\r\n            return;\r\n        }\r\n        // @ts-ignore\r\n        const timer = this.io.setTimeoutFn(() => {\r\n            delete this.acks[id];\r\n            for (let i = 0; i < this.sendBuffer.length; i++) {\r\n                if (this.sendBuffer[i].id === id) {\r\n                    this.sendBuffer.splice(i, 1);\r\n                }\r\n            }\r\n            ack.call(this, new Error(\"operation has timed out\"));\r\n        }, timeout);\r\n        this.acks[id] = (...args) => {\r\n            // @ts-ignore\r\n            this.io.clearTimeoutFn(timer);\r\n            ack.apply(this, [null, ...args]);\r\n        };\r\n    }\r\n    /**\r\n     * Sends a packet.\r\n     *\r\n     * @param packet\r\n     * @private\r\n     */\r\n    packet(packet) {\r\n        packet.nsp = this.nsp;\r\n        this.io._packet(packet);\r\n    }\r\n    /**\r\n     * Called upon engine `open`.\r\n     *\r\n     * @private\r\n     */\r\n    onopen() {\r\n        if (typeof this.auth == \"function\") {\r\n            this.auth((data) => {\r\n                this.packet({ type: PacketType.CONNECT, data });\r\n            });\r\n        }\r\n        else {\r\n            this.packet({ type: PacketType.CONNECT, data: this.auth });\r\n        }\r\n    }\r\n    /**\r\n     * Called upon engine or manager `error`.\r\n     *\r\n     * @param err\r\n     * @private\r\n     */\r\n    onerror(err) {\r\n        if (!this.connected) {\r\n            this.emitReserved(\"connect_error\", err);\r\n        }\r\n    }\r\n    /**\r\n     * Called upon engine `close`.\r\n     *\r\n     * @param reason\r\n     * @private\r\n     */\r\n    onclose(reason) {\r\n        this.connected = false;\r\n        this.disconnected = true;\r\n        delete this.id;\r\n        this.emitReserved(\"disconnect\", reason);\r\n    }\r\n    /**\r\n     * Called with socket packet.\r\n     *\r\n     * @param packet\r\n     * @private\r\n     */\r\n    onpacket(packet) {\r\n        const sameNamespace = packet.nsp === this.nsp;\r\n        if (!sameNamespace)\r\n            return;\r\n        switch (packet.type) {\r\n            case PacketType.CONNECT:\r\n                if (packet.data && packet.data.sid) {\r\n                    const id = packet.data.sid;\r\n                    this.onconnect(id);\r\n                }\r\n                else {\r\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\r\n                }\r\n                break;\r\n            case PacketType.EVENT:\r\n                this.onevent(packet);\r\n                break;\r\n            case PacketType.BINARY_EVENT:\r\n                this.onevent(packet);\r\n                break;\r\n            case PacketType.ACK:\r\n                this.onack(packet);\r\n                break;\r\n            case PacketType.BINARY_ACK:\r\n                this.onack(packet);\r\n                break;\r\n            case PacketType.DISCONNECT:\r\n                this.ondisconnect();\r\n                break;\r\n            case PacketType.CONNECT_ERROR:\r\n                this.destroy();\r\n                const err = new Error(packet.data.message);\r\n                // @ts-ignore\r\n                err.data = packet.data.data;\r\n                this.emitReserved(\"connect_error\", err);\r\n                break;\r\n        }\r\n    }\r\n    /**\r\n     * Called upon a server event.\r\n     *\r\n     * @param packet\r\n     * @private\r\n     */\r\n    onevent(packet) {\r\n        const args = packet.data || [];\r\n        if (null != packet.id) {\r\n            args.push(this.ack(packet.id));\r\n        }\r\n        if (this.connected) {\r\n            this.emitEvent(args);\r\n        }\r\n        else {\r\n            this.receiveBuffer.push(Object.freeze(args));\r\n        }\r\n    }\r\n    emitEvent(args) {\r\n        if (this._anyListeners && this._anyListeners.length) {\r\n            const listeners = this._anyListeners.slice();\r\n            for (const listener of listeners) {\r\n                listener.apply(this, args);\r\n            }\r\n        }\r\n        super.emit.apply(this, args);\r\n    }\r\n    /**\r\n     * Produces an ack callback to emit with an event.\r\n     *\r\n     * @private\r\n     */\r\n    ack(id) {\r\n        const self = this;\r\n        let sent = false;\r\n        return function (...args) {\r\n            // prevent double callbacks\r\n            if (sent)\r\n                return;\r\n            sent = true;\r\n            self.packet({\r\n                type: PacketType.ACK,\r\n                id: id,\r\n                data: args,\r\n            });\r\n        };\r\n    }\r\n    /**\r\n     * Called upon a server acknowlegement.\r\n     *\r\n     * @param packet\r\n     * @private\r\n     */\r\n    onack(packet) {\r\n        const ack = this.acks[packet.id];\r\n        if (\"function\" === typeof ack) {\r\n            ack.apply(this, packet.data);\r\n            delete this.acks[packet.id];\r\n        }\r\n        else {\r\n        }\r\n    }\r\n    /**\r\n     * Called upon server connect.\r\n     *\r\n     * @private\r\n     */\r\n    onconnect(id) {\r\n        this.id = id;\r\n        this.connected = true;\r\n        this.disconnected = false;\r\n        this.emitBuffered();\r\n        this.emitReserved(\"connect\");\r\n    }\r\n    /**\r\n     * Emit buffered events (received and emitted).\r\n     *\r\n     * @private\r\n     */\r\n    emitBuffered() {\r\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\r\n        this.receiveBuffer = [];\r\n        this.sendBuffer.forEach((packet) => this.packet(packet));\r\n        this.sendBuffer = [];\r\n    }\r\n    /**\r\n     * Called upon server disconnect.\r\n     *\r\n     * @private\r\n     */\r\n    ondisconnect() {\r\n        this.destroy();\r\n        this.onclose(\"io server disconnect\");\r\n    }\r\n    /**\r\n     * Called upon forced client/server side disconnections,\r\n     * this method ensures the manager stops tracking us and\r\n     * that reconnections don't get triggered for this.\r\n     *\r\n     * @private\r\n     */\r\n    destroy() {\r\n        if (this.subs) {\r\n            // clean subscriptions to avoid reconnections\r\n            this.subs.forEach((subDestroy) => subDestroy());\r\n            this.subs = undefined;\r\n        }\r\n        this.io[\"_destroy\"](this);\r\n    }\r\n    /**\r\n     * Disconnects the socket manually.\r\n     *\r\n     * @return self\r\n     * @public\r\n     */\r\n    disconnect() {\r\n        if (this.connected) {\r\n            this.packet({ type: PacketType.DISCONNECT });\r\n        }\r\n        // remove socket from pool\r\n        this.destroy();\r\n        if (this.connected) {\r\n            // fire events\r\n            this.onclose(\"io client disconnect\");\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Alias for disconnect()\r\n     *\r\n     * @return self\r\n     * @public\r\n     */\r\n    close() {\r\n        return this.disconnect();\r\n    }\r\n    /**\r\n     * Sets the compress flag.\r\n     *\r\n     * @param compress - if `true`, compresses the sending data\r\n     * @return self\r\n     * @public\r\n     */\r\n    compress(compress) {\r\n        this.flags.compress = compress;\r\n        return this;\r\n    }\r\n    /**\r\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\r\n     * ready to send messages.\r\n     *\r\n     * @returns self\r\n     * @public\r\n     */\r\n    get volatile() {\r\n        this.flags.volatile = true;\r\n        return this;\r\n    }\r\n    /**\r\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\r\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\r\n     *\r\n     * ```\r\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\r\n     *   if (err) {\r\n     *     // the server did not acknowledge the event in the given delay\r\n     *   }\r\n     * });\r\n     * ```\r\n     *\r\n     * @returns self\r\n     * @public\r\n     */\r\n    timeout(timeout) {\r\n        this.flags.timeout = timeout;\r\n        return this;\r\n    }\r\n    /**\r\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\r\n     * callback.\r\n     *\r\n     * @param listener\r\n     * @public\r\n     */\r\n    onAny(listener) {\r\n        this._anyListeners = this._anyListeners || [];\r\n        this._anyListeners.push(listener);\r\n        return this;\r\n    }\r\n    /**\r\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\r\n     * callback. The listener is added to the beginning of the listeners array.\r\n     *\r\n     * @param listener\r\n     * @public\r\n     */\r\n    prependAny(listener) {\r\n        this._anyListeners = this._anyListeners || [];\r\n        this._anyListeners.unshift(listener);\r\n        return this;\r\n    }\r\n    /**\r\n     * Removes the listener that will be fired when any event is emitted.\r\n     *\r\n     * @param listener\r\n     * @public\r\n     */\r\n    offAny(listener) {\r\n        if (!this._anyListeners) {\r\n            return this;\r\n        }\r\n        if (listener) {\r\n            const listeners = this._anyListeners;\r\n            for (let i = 0; i < listeners.length; i++) {\r\n                if (listener === listeners[i]) {\r\n                    listeners.splice(i, 1);\r\n                    return this;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._anyListeners = [];\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\r\n     * e.g. to remove listeners.\r\n     *\r\n     * @public\r\n     */\r\n    listenersAny() {\r\n        return this._anyListeners || [];\r\n    }\r\n}\r\n", "import { Socket as Engine, installTimerFunctions, } from \"engine.io-client\";\r\nimport { Socket } from \"./socket.js\";\r\nimport * as parser from \"socket.io-parser\";\r\nimport { on } from \"./on.js\";\r\nimport Backoff from \"backo2\";\r\nimport { Emitter, } from \"@socket.io/component-emitter\";\r\nexport class Manager extends Emitter {\r\n    constructor(uri, opts) {\r\n        var _a;\r\n        super();\r\n        this.nsps = {};\r\n        this.subs = [];\r\n        if (uri && \"object\" === typeof uri) {\r\n            opts = uri;\r\n            uri = undefined;\r\n        }\r\n        opts = opts || {};\r\n        opts.path = opts.path || \"/socket.io\";\r\n        this.opts = opts;\r\n        installTimerFunctions(this, opts);\r\n        this.reconnection(opts.reconnection !== false);\r\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\r\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\r\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\r\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\r\n        this.backoff = new Backoff({\r\n            min: this.reconnectionDelay(),\r\n            max: this.reconnectionDelayMax(),\r\n            jitter: this.randomizationFactor(),\r\n        });\r\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\r\n        this._readyState = \"closed\";\r\n        this.uri = uri;\r\n        const _parser = opts.parser || parser;\r\n        this.encoder = new _parser.Encoder();\r\n        this.decoder = new _parser.Decoder();\r\n        this._autoConnect = opts.autoConnect !== false;\r\n        if (this._autoConnect)\r\n            this.open();\r\n    }\r\n    reconnection(v) {\r\n        if (!arguments.length)\r\n            return this._reconnection;\r\n        this._reconnection = !!v;\r\n        return this;\r\n    }\r\n    reconnectionAttempts(v) {\r\n        if (v === undefined)\r\n            return this._reconnectionAttempts;\r\n        this._reconnectionAttempts = v;\r\n        return this;\r\n    }\r\n    reconnectionDelay(v) {\r\n        var _a;\r\n        if (v === undefined)\r\n            return this._reconnectionDelay;\r\n        this._reconnectionDelay = v;\r\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\r\n        return this;\r\n    }\r\n    randomizationFactor(v) {\r\n        var _a;\r\n        if (v === undefined)\r\n            return this._randomizationFactor;\r\n        this._randomizationFactor = v;\r\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\r\n        return this;\r\n    }\r\n    reconnectionDelayMax(v) {\r\n        var _a;\r\n        if (v === undefined)\r\n            return this._reconnectionDelayMax;\r\n        this._reconnectionDelayMax = v;\r\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\r\n        return this;\r\n    }\r\n    timeout(v) {\r\n        if (!arguments.length)\r\n            return this._timeout;\r\n        this._timeout = v;\r\n        return this;\r\n    }\r\n    /**\r\n     * Starts trying to reconnect if reconnection is enabled and we have not\r\n     * started reconnecting yet\r\n     *\r\n     * @private\r\n     */\r\n    maybeReconnectOnOpen() {\r\n        // Only try to reconnect if it's the first time we're connecting\r\n        if (!this._reconnecting &&\r\n            this._reconnection &&\r\n            this.backoff.attempts === 0) {\r\n            // keeps reconnection from firing twice for the same reconnection loop\r\n            this.reconnect();\r\n        }\r\n    }\r\n    /**\r\n     * Sets the current transport `socket`.\r\n     *\r\n     * @param {Function} fn - optional, callback\r\n     * @return self\r\n     * @public\r\n     */\r\n    open(fn) {\r\n        if (~this._readyState.indexOf(\"open\"))\r\n            return this;\r\n        this.engine = new Engine(this.uri, this.opts);\r\n        const socket = this.engine;\r\n        const self = this;\r\n        this._readyState = \"opening\";\r\n        this.skipReconnect = false;\r\n        // emit `open`\r\n        const openSubDestroy = on(socket, \"open\", function () {\r\n            self.onopen();\r\n            fn && fn();\r\n        });\r\n        // emit `error`\r\n        const errorSub = on(socket, \"error\", (err) => {\r\n            self.cleanup();\r\n            self._readyState = \"closed\";\r\n            this.emitReserved(\"error\", err);\r\n            if (fn) {\r\n                fn(err);\r\n            }\r\n            else {\r\n                // Only do this if there is no fn to handle the error\r\n                self.maybeReconnectOnOpen();\r\n            }\r\n        });\r\n        if (false !== this._timeout) {\r\n            const timeout = this._timeout;\r\n            if (timeout === 0) {\r\n                openSubDestroy(); // prevents a race condition with the 'open' event\r\n            }\r\n            // set timer\r\n            const timer = this.setTimeoutFn(() => {\r\n                openSubDestroy();\r\n                socket.close();\r\n                // @ts-ignore\r\n                socket.emit(\"error\", new Error(\"timeout\"));\r\n            }, timeout);\r\n            if (this.opts.autoUnref) {\r\n                timer.unref();\r\n            }\r\n            this.subs.push(function subDestroy() {\r\n                clearTimeout(timer);\r\n            });\r\n        }\r\n        this.subs.push(openSubDestroy);\r\n        this.subs.push(errorSub);\r\n        return this;\r\n    }\r\n    /**\r\n     * Alias for open()\r\n     *\r\n     * @return self\r\n     * @public\r\n     */\r\n    connect(fn) {\r\n        return this.open(fn);\r\n    }\r\n    /**\r\n     * Called upon transport open.\r\n     *\r\n     * @private\r\n     */\r\n    onopen() {\r\n        // clear old subs\r\n        this.cleanup();\r\n        // mark as open\r\n        this._readyState = \"open\";\r\n        this.emitReserved(\"open\");\r\n        // add new subs\r\n        const socket = this.engine;\r\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\r\n    }\r\n    /**\r\n     * Called upon a ping.\r\n     *\r\n     * @private\r\n     */\r\n    onping() {\r\n        this.emitReserved(\"ping\");\r\n    }\r\n    /**\r\n     * Called with data.\r\n     *\r\n     * @private\r\n     */\r\n    ondata(data) {\r\n        this.decoder.add(data);\r\n    }\r\n    /**\r\n     * Called when parser fully decodes a packet.\r\n     *\r\n     * @private\r\n     */\r\n    ondecoded(packet) {\r\n        this.emitReserved(\"packet\", packet);\r\n    }\r\n    /**\r\n     * Called upon socket error.\r\n     *\r\n     * @private\r\n     */\r\n    onerror(err) {\r\n        this.emitReserved(\"error\", err);\r\n    }\r\n    /**\r\n     * Creates a new socket for the given `nsp`.\r\n     *\r\n     * @return {Socket}\r\n     * @public\r\n     */\r\n    socket(nsp, opts) {\r\n        let socket = this.nsps[nsp];\r\n        if (!socket) {\r\n            socket = new Socket(this, nsp, opts);\r\n            this.nsps[nsp] = socket;\r\n        }\r\n        return socket;\r\n    }\r\n    /**\r\n     * Called upon a socket close.\r\n     *\r\n     * @param socket\r\n     * @private\r\n     */\r\n    _destroy(socket) {\r\n        const nsps = Object.keys(this.nsps);\r\n        for (const nsp of nsps) {\r\n            const socket = this.nsps[nsp];\r\n            if (socket.active) {\r\n                return;\r\n            }\r\n        }\r\n        this._close();\r\n    }\r\n    /**\r\n     * Writes a packet.\r\n     *\r\n     * @param packet\r\n     * @private\r\n     */\r\n    _packet(packet) {\r\n        const encodedPackets = this.encoder.encode(packet);\r\n        for (let i = 0; i < encodedPackets.length; i++) {\r\n            this.engine.write(encodedPackets[i], packet.options);\r\n        }\r\n    }\r\n    /**\r\n     * Clean up transport subscriptions and packet buffer.\r\n     *\r\n     * @private\r\n     */\r\n    cleanup() {\r\n        this.subs.forEach((subDestroy) => subDestroy());\r\n        this.subs.length = 0;\r\n        this.decoder.destroy();\r\n    }\r\n    /**\r\n     * Close the current socket.\r\n     *\r\n     * @private\r\n     */\r\n    _close() {\r\n        this.skipReconnect = true;\r\n        this._reconnecting = false;\r\n        this.onclose(\"forced close\");\r\n        if (this.engine)\r\n            this.engine.close();\r\n    }\r\n    /**\r\n     * Alias for close()\r\n     *\r\n     * @private\r\n     */\r\n    disconnect() {\r\n        return this._close();\r\n    }\r\n    /**\r\n     * Called upon engine close.\r\n     *\r\n     * @private\r\n     */\r\n    onclose(reason) {\r\n        this.cleanup();\r\n        this.backoff.reset();\r\n        this._readyState = \"closed\";\r\n        this.emitReserved(\"close\", reason);\r\n        if (this._reconnection && !this.skipReconnect) {\r\n            this.reconnect();\r\n        }\r\n    }\r\n    /**\r\n     * Attempt a reconnection.\r\n     *\r\n     * @private\r\n     */\r\n    reconnect() {\r\n        if (this._reconnecting || this.skipReconnect)\r\n            return this;\r\n        const self = this;\r\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\r\n            this.backoff.reset();\r\n            this.emitReserved(\"reconnect_failed\");\r\n            this._reconnecting = false;\r\n        }\r\n        else {\r\n            const delay = this.backoff.duration();\r\n            this._reconnecting = true;\r\n            const timer = this.setTimeoutFn(() => {\r\n                if (self.skipReconnect)\r\n                    return;\r\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\r\n                // check again for the case socket closed in above events\r\n                if (self.skipReconnect)\r\n                    return;\r\n                self.open((err) => {\r\n                    if (err) {\r\n                        self._reconnecting = false;\r\n                        self.reconnect();\r\n                        this.emitReserved(\"reconnect_error\", err);\r\n                    }\r\n                    else {\r\n                        self.onreconnect();\r\n                    }\r\n                });\r\n            }, delay);\r\n            if (this.opts.autoUnref) {\r\n                timer.unref();\r\n            }\r\n            this.subs.push(function subDestroy() {\r\n                clearTimeout(timer);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Called upon successful reconnect.\r\n     *\r\n     * @private\r\n     */\r\n    onreconnect() {\r\n        const attempt = this.backoff.attempts;\r\n        this._reconnecting = false;\r\n        this.backoff.reset();\r\n        this.emitReserved(\"reconnect\", attempt);\r\n    }\r\n}\r\n", "import { url } from \"./url.js\";\r\nimport { Manager } from \"./manager.js\";\r\nimport { Socket } from \"./socket.js\";\r\n/**\r\n * Managers cache.\r\n */\r\nconst cache = {};\r\nfunction lookup(uri, opts) {\r\n    if (typeof uri === \"object\") {\r\n        opts = uri;\r\n        uri = undefined;\r\n    }\r\n    opts = opts || {};\r\n    const parsed = url(uri, opts.path || \"/socket.io\");\r\n    const source = parsed.source;\r\n    const id = parsed.id;\r\n    const path = parsed.path;\r\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\r\n    const newConnection = opts.forceNew ||\r\n        opts[\"force new connection\"] ||\r\n        false === opts.multiplex ||\r\n        sameNamespace;\r\n    let io;\r\n    if (newConnection) {\r\n        io = new Manager(source, opts);\r\n    }\r\n    else {\r\n        if (!cache[id]) {\r\n            cache[id] = new Manager(source, opts);\r\n        }\r\n        io = cache[id];\r\n    }\r\n    if (parsed.query && !opts.query) {\r\n        opts.query = parsed.queryKey;\r\n    }\r\n    return io.socket(parsed.path, opts);\r\n}\r\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\r\n// namespace (e.g. `io.connect(...)`), for backward compatibility\r\nObject.assign(lookup, {\r\n    Manager,\r\n    Socket,\r\n    io: lookup,\r\n    connect: lookup,\r\n});\r\n/**\r\n * Protocol version.\r\n *\r\n * @public\r\n */\r\nexport { protocol } from \"socket.io-parser\";\r\n/**\r\n * Expose constructors for standalone build.\r\n *\r\n * @public\r\n */\r\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\r\n", "import d from \"./node_modules/socket.io-client/build/esm/index.js\";export default d;\nexport * from \"./node_modules/socket.io-client/build/esm/index.js\""],
  "mappings": "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",
  "names": []
}
